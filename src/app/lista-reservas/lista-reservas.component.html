

<!--Encabezado de la página-->
<div class="img-fluid" class = "opacity-30"  >
    <div class=" text-white">
      <img src="https://images.unsplash.com/photo-1589859762194-eaae75c61f64?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxzZWFyY2h8Mnx8Ymx1ZSUyMGNvbG9yfGVufDB8fDB8fA%3D%3D&w=1000&q=80" height="130" class="card-img" alt="...">
      <div class="card-img-overlay">
        <h5 class="card-title">&nbsp;</h5>
        <h5 class="card-title">&nbsp;</h5>
        <h5 class="card-title">&nbsp;</h5>
        <h5 class="card-title">&nbsp;</h5>
    
        <h1 class="card-title" class = "text-center"> Mis Reservaciones </h1>
      </div>
    </div>
  </div>
  <br>

  <!--Tarjetas con la información de las reservaciones activas, segmentadas por áreas deportivas-->

  

  <div class="vstack gap-4 col-md-8 mx-auto">

    <div class="card w-100" >
      <div class="card">
        <h5 class="card-header">Arena E-sports</h5>
        <!-- DIV para decir que no hay reservas en ésta área -->
        <div class="card-body">

          <h4 class="text-center">No cuenta con ninguna reservación activa en esta área deportiva</h4>
  
        </div>
      </div>

    </div>

    <div class="card w-100" >
      <div class="card">
        <h5 class="card-header">Gimnasio</h5>
        <!-- DIV que contiene información de las reservaciones activas -->
        <div class="card-body">
  
          <div class="row-cols-1 row-cols-md-3 g-6">
  
            <div class="card w-100">
              <div class="card">
                
                <div class="card-body">
                  
                  <h4>
                    Fecha:
                    <small class="text-muted">Lunes 20 de Marzo</small>
                  </h4>
                  <h4>
                    Hora:
                    <small class="text-muted"> 1:00 PM</small>
                  </h4>
                  <h4>
                    Instructor:
                    <small class="text-muted"> Arnold Schwarzenegger </small>
                  </h4>
                  <h4>
                    Estado:
                    <small class="text-success"> Activa </small>
                  </h4>
  
                  <div class="btn-group me-2" role="group" aria-label="First group">
                    
                    <button id = "confirmar" class="btn btn-primary" (click)="open(mymodal)"> Marcar llegada </button>
                        <ng-template #mymodal let-modal>
                          <div class="modal-header">
                            <h4 class="modal-title" id="modal-basic-title">Confirmación</h4>
                            <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
                              <span  aria-hidden="true">×</span>
                            </button>
                          </div>
                          <div class="modal-body">
                            Tu llegada ha sido registrada exitosamente!
                          </div>
                          <div class="modal-footer">
                            <button type="button" class="btn btn-primary" (click)="modal.close('Save click')">OK</button>
                          </div>
                        </ng-template>
                  </div>
  
                  <div class="btn-group me-2" role="group" aria-label="Second group">
                    <button type="button" class="btn btn-warning" href="#">Reagendar</button>
                  </div>  
                  <div class="btn-group me-2" role="group" aria-label="Second group">
                    <button id = "confirmar" class="btn btn-danger" (click)="open(cancel)"> Cancelar reserva</button>
                    <ng-template #cancel let-modal>
                      <div class="modal-header">
                        <h4 class="modal-title" id="modal-basic-title">Confirmación</h4>
                        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
                          <span  aria-hidden="true">×</span>
                        </button>
                      </div>
                      <div class="modal-body">
                        Se ha cancelado tu reservación exitosamente!
                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn btn-primary" (click)="modal.close('Save click')">OK</button>
                      </div>
                    </ng-template>
                  </div>
                </div>
              </div>
            </div>


            <div class="card w-100 mt-3">
              <div class="card">
                
                <div class="card-body">
                  
                  <h4>
                    Fecha:
                    <small class="text-muted">Martes 21 de Marzo</small>
                  </h4>
                  <h4>
                    Hora:
                    <small class="text-muted"> 3:00 PM</small>
                  </h4>
                  <h4>
                    Instructor:
                    <small class="text-muted"> Sylvester Stallone </small>
                  </h4>
                  <h4>
                    Estado:
                    <small class="text-danger"> Cancelada </small>
                  </h4>
  
                  <div class="btn-group me-2" role="group" aria-label="Second group">
                    <button type="button" class="btn btn-warning" href="#">Reagendar</button>
                  </div>  
                </div>
              </div>
            </div>


            <div class="card w-100 mt-3">
              <div class="card">
                
                <div class="card-body">
                  
                  <h4>
                    Fecha:
                    <small class="text-muted">Martes 21 de Marzo</small>
                  </h4>
                  <h4>
                    Hora:
                    <small class="text-muted"> 3:00 PM</small>
                  </h4>
                  <h4>
                    Instructor:
                    <small class="text-muted"> Sylvester Stallone </small>
                  </h4>
                  <h4>
                    Estado:
                    <small class="text-primary"> En curso </small>
                  </h4>
  
                  <div class="btn-group me-2" role="group" aria-label="Second group">
                    
                    <button id = "confirmar" class="btn btn-primary" (click)="open(salida)"> Marcar salida</button>
                    <ng-template #salida let-modal>
                      <div class="modal-header">
                        <h4 class="modal-title" id="modal-basic-title">Confirmación</h4>
                        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
                          <span  aria-hidden="true">×</span>
                        </button>
                      </div>
                      <div class="modal-body">
                        Se ha registrado su salida exitosamente!
                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn btn-primary" (click)="modal.close('Save click')">OK</button>
                      </div>
                    </ng-template>
                  </div>  
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>


    <div class="card w-100" >
      <div class="card">
        <h5 class="card-header">Arena TEC</h5>
        <div class="card-body">
  
          <div class="row-cols-1 row-cols-md-3 g-6">
  
            <div class="card w-100">
              <div class="card">
                
                <div class="card-body">
                  
                  <h4>
                    Fecha:
                    <small class="text-muted">Lunes 20 de Marzo</small>
                  </h4>
                  <h4>
                    Hora:
                    <small class="text-muted"> 1:00 PM</small>
                  </h4>
                  <h4>
                    Instructor:
                    <small class="text-muted"> Arnold Schwarzenegger </small>
                  </h4>
                  <h4>
                    Estado:
                    <small class="text-success"> Activa </small>
                  </h4>
                  
  
                  <div class="btn-group me-2" role="group" aria-label="First group">
                    <button type="button" class="btn btn-primary" href="#">Marcar llegada</button>
            
                  </div>
  
                  <div class="btn-group me-2" role="group" aria-label="Second group">
                    <button type="button" class="btn btn-warning" href="#">Reagendar</button>
                  </div>
  
  
                  <div class="btn-group me-2" role="group" aria-label="Second group">
                    <button type="button" class="btn btn-danger" href="#">Cancelar reserva</button>
                  </div>
                </div>
              </div>
            </div>

            <br>

            <div class="card w-100">
              <div class="card">
                
                <div class="card-body">
                  
                  <h4>
                    Fecha:
                    <small class="text-muted">Martes 21 de Marzo</small>
                  </h4>
                  <h4>
                    Hora:
                    <small class="text-muted"> 3:00 PM</small>
                  </h4>
                  <h4>
                    Instructor:
                    <small class="text-muted"> Sylvester Stallone </small>
                  </h4>
                  <h4>
                    Estado:
                    <small class="text-danger"> Cancelada </small>
                  </h4>
  
                  <div class="btn-group me-2" role="group" aria-label="Second group">
                    <button type="button" class="btn btn-warning" href="#">Reagendar</button>
                  </div>  
                </div>
              </div>
            </div>
  
          </div>
  
        </div>
      </div>
    </div>
  </div>
  <!-- Conectado a la base de datos -->
  <div class="vstack gap-4 col-md-8 mx-auto" *ngFor="let each of Reservas;let i=index;">
    <div class="card w-100">
      <div class="card">
        <h5 class="card-header">{{each['nombre']}}</h5>
        <div class="card-body">
          <div class="row-cols-1 row-cols-md-3 g-6">
            <!-- Cada una de las reservas -->
            <div class="card w-100">
              <div class="card">
                <div class="card-body" (click)="printIndex(i)">
                  <!-- Informacion de la reservacion -->
                  <h4>
                    Fecha:
                    <small class="text-muted"> {{fechaPretty(each['fecha'])}} </small>
                  </h4>
                  <h4>
                    Hora:
                    <small class="text-muted"> {{each['hora'].slice(11, 16)}} </small>
                  </h4>
                  <h4>
                    Instructor:
                    <small class="text-muted"> {{tengoAsesor(each['asesor'])}} </small>
                  </h4>

                  <h4 *ngIf="each['estado']=='Activa'">
                    Estado:
                    <small class="text-success" id="estado-html"> {{each['estado']}} </small>
                  </h4>

                  <h4 *ngIf="each['estado']=='Cancelada'">
                    Estado:
                    <small class="text-danger" id="estado-html"> {{each['estado']}} </small>
                  </h4>

                  <!-- Botones -->
                  <div class="btn-group me-2" role="group" aria-label="First group">
                    
                    <button id = "confirmar" class="btn btn-primary" (click)="open(mymodal)"> Marcar llegada </button>
                        <ng-template #mymodal let-modal>
                          <div class="modal-header">
                            <h4 class="modal-title" id="modal-basic-title">Confirmación</h4>
                            <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
                              <span  aria-hidden="true">×</span>
                            </button>
                          </div>
                          <div class="modal-body">
                            Tu llegada ha sido registrada exitosamente!
                          </div>
                          <div class="modal-footer">
                            <button type="button" class="btn btn-primary" (click)="modal.close('Save click')">OK</button>
                          </div>
                        </ng-template>
                  </div>
                  <div class="btn-group me-2" role="group" aria-label="Second group">
                    <button type="button" class="btn btn-warning" href="#">Reagendar</button>
                  </div>  
                  <div class="btn-group me-2" role="group" aria-label="Second group">
                    <button id = "confirmar" class="btn btn-danger" (click)="open(cancel)"> Cancelar reserva</button>
                    <ng-template #cancel let-modal>
                      <div class="modal-header">
                        <h4 class="modal-title" id="modal-basic-title">Confirmación</h4>
                        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
                          <span  aria-hidden="true">×</span>
                        </button>
                      </div>
                      <div class="modal-body">
                        Se ha cancelado tu reservación exitosamente!
                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn btn-primary" (click)="modal.close('Save click')">OK</button>
                      </div>
                    </ng-template>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>



